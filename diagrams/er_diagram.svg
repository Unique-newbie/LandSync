<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1000">
  <defs>
    <linearGradient id="tableGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1e293b"/>
      <stop offset="100%" style="stop-color:#0f172a"/>
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="1000" fill="#0f172a"/>
  
  <!-- Title -->
  <text x="700" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#667eea">DigiJamabandi - Entity Relationship Diagram</text>

  <!-- USERS Table -->
  <rect x="50" y="80" width="220" height="180" rx="8" fill="url(#tableGrad)" stroke="#3b82f6" stroke-width="2"/>
  <rect x="50" y="80" width="220" height="35" rx="8" fill="#3b82f6"/>
  <text x="160" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">users</text>
  <text x="65" y="135" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="65" y="155" font-family="monospace" font-size="11" fill="#94a3b8">email VARCHAR(255)</text>
  <text x="65" y="175" font-family="monospace" font-size="11" fill="#94a3b8">password_hash TEXT</text>
  <text x="65" y="195" font-family="monospace" font-size="11" fill="#94a3b8">full_name VARCHAR(100)</text>
  <text x="65" y="215" font-family="monospace" font-size="11" fill="#22d3ee">FK role_id UUID</text>
  <text x="65" y="235" font-family="monospace" font-size="11" fill="#94a3b8">aadhaar_verified BOOL</text>

  <!-- ROLES Table -->
  <rect x="50" y="290" width="220" height="130" rx="8" fill="url(#tableGrad)" stroke="#8b5cf6" stroke-width="2"/>
  <rect x="50" y="290" width="220" height="35" rx="8" fill="#8b5cf6"/>
  <text x="160" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">roles</text>
  <text x="65" y="345" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="65" y="365" font-family="monospace" font-size="11" fill="#94a3b8">name VARCHAR(50)</text>
  <text x="65" y="385" font-family="monospace" font-size="11" fill="#94a3b8">permissions JSONB</text>
  <text x="65" y="405" font-family="monospace" font-size="11" fill="#94a3b8">description TEXT</text>

  <!-- VILLAGES Table -->
  <rect x="320" y="80" width="220" height="150" rx="8" fill="url(#tableGrad)" stroke="#10b981" stroke-width="2"/>
  <rect x="320" y="80" width="220" height="35" rx="8" fill="#10b981"/>
  <text x="430" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">villages</text>
  <text x="335" y="135" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="335" y="155" font-family="monospace" font-size="11" fill="#94a3b8">village_id VARCHAR(20)</text>
  <text x="335" y="175" font-family="monospace" font-size="11" fill="#94a3b8">name VARCHAR(100)</text>
  <text x="335" y="195" font-family="monospace" font-size="11" fill="#94a3b8">district VARCHAR(100)</text>
  <text x="335" y="215" font-family="monospace" font-size="11" fill="#94a3b8">state VARCHAR(50)</text>

  <!-- PARCELS Table (Spatial) -->
  <rect x="590" y="80" width="260" height="220" rx="8" fill="url(#tableGrad)" stroke="#f59e0b" stroke-width="2"/>
  <rect x="590" y="80" width="260" height="35" rx="8" fill="#f59e0b"/>
  <text x="720" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">parcels üó∫Ô∏è</text>
  <text x="605" y="135" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="605" y="155" font-family="monospace" font-size="11" fill="#94a3b8">plot_id VARCHAR(50)</text>
  <text x="605" y="175" font-family="monospace" font-size="11" fill="#94a3b8">owner_name VARCHAR(200)</text>
  <text x="605" y="195" font-family="monospace" font-size="11" fill="#94a3b8">area_sqm DECIMAL</text>
  <text x="605" y="215" font-family="monospace" font-size="11" fill="#22d3ee">FK village_id UUID</text>
  <text x="605" y="235" font-family="monospace" font-size="11" fill="#a78bfa">geometry GEOMETRY(POLYGON)</text>
  <text x="605" y="255" font-family="monospace" font-size="11" fill="#94a3b8">source_file VARCHAR(255)</text>
  <text x="605" y="275" font-family="monospace" font-size="11" fill="#94a3b8">created_at TIMESTAMP</text>

  <!-- TEXT_RECORDS Table -->
  <rect x="900" y="80" width="260" height="200" rx="8" fill="url(#tableGrad)" stroke="#ec4899" stroke-width="2"/>
  <rect x="900" y="80" width="260" height="35" rx="8" fill="#ec4899"/>
  <text x="1030" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">text_records üìÑ</text>
  <text x="915" y="135" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="915" y="155" font-family="monospace" font-size="11" fill="#94a3b8">record_id VARCHAR(50)</text>
  <text x="915" y="175" font-family="monospace" font-size="11" fill="#94a3b8">plot_id VARCHAR(50)</text>
  <text x="915" y="195" font-family="monospace" font-size="11" fill="#94a3b8">owner_name VARCHAR(200)</text>
  <text x="915" y="215" font-family="monospace" font-size="11" fill="#94a3b8">area_declared DECIMAL</text>
  <text x="915" y="235" font-family="monospace" font-size="11" fill="#22d3ee">FK village_id UUID</text>
  <text x="915" y="255" font-family="monospace" font-size="11" fill="#94a3b8">source_file VARCHAR(255)</text>

  <!-- MATCHES Table -->
  <rect x="590" y="350" width="260" height="220" rx="8" fill="url(#tableGrad)" stroke="#06b6d4" stroke-width="2"/>
  <rect x="590" y="350" width="260" height="35" rx="8" fill="#06b6d4"/>
  <text x="720" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">matches üîó</text>
  <text x="605" y="405" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="605" y="425" font-family="monospace" font-size="11" fill="#22d3ee">FK parcel_id UUID</text>
  <text x="605" y="445" font-family="monospace" font-size="11" fill="#22d3ee">FK text_record_id UUID</text>
  <text x="605" y="465" font-family="monospace" font-size="11" fill="#94a3b8">match_score DECIMAL(5,2)</text>
  <text x="605" y="485" font-family="monospace" font-size="11" fill="#94a3b8">status VARCHAR(20)</text>
  <text x="605" y="505" font-family="monospace" font-size="11" fill="#94a3b8">confidence_level VARCHAR(10)</text>
  <text x="605" y="525" font-family="monospace" font-size="11" fill="#94a3b8">algorithm_details JSONB</text>
  <text x="605" y="545" font-family="monospace" font-size="11" fill="#94a3b8">verified_by UUID</text>

  <!-- AUDIT_LOGS Table -->
  <rect x="50" y="480" width="240" height="180" rx="8" fill="url(#tableGrad)" stroke="#ef4444" stroke-width="2"/>
  <rect x="50" y="480" width="240" height="35" rx="8" fill="#ef4444"/>
  <text x="170" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">audit_logs üìù</text>
  <text x="65" y="535" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="65" y="555" font-family="monospace" font-size="11" fill="#22d3ee">FK user_id UUID</text>
  <text x="65" y="575" font-family="monospace" font-size="11" fill="#94a3b8">action VARCHAR(50)</text>
  <text x="65" y="595" font-family="monospace" font-size="11" fill="#94a3b8">entity_type VARCHAR(50)</text>
  <text x="65" y="615" font-family="monospace" font-size="11" fill="#94a3b8">entity_id UUID</text>
  <text x="65" y="635" font-family="monospace" font-size="11" fill="#94a3b8">changes JSONB</text>

  <!-- GOV_SYNC_LOGS Table -->
  <rect x="320" y="480" width="240" height="160" rx="8" fill="url(#tableGrad)" stroke="#a855f7" stroke-width="2"/>
  <rect x="320" y="480" width="240" height="35" rx="8" fill="#a855f7"/>
  <text x="440" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">gov_sync_logs üèõÔ∏è</text>
  <text x="335" y="535" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="335" y="555" font-family="monospace" font-size="11" fill="#94a3b8">service_name VARCHAR(50)</text>
  <text x="335" y="575" font-family="monospace" font-size="11" fill="#94a3b8">request_type VARCHAR(30)</text>
  <text x="335" y="595" font-family="monospace" font-size="11" fill="#94a3b8">status VARCHAR(20)</text>
  <text x="335" y="615" font-family="monospace" font-size="11" fill="#94a3b8">response_data JSONB</text>

  <!-- REPORTS Table -->
  <rect x="900" y="350" width="240" height="180" rx="8" fill="url(#tableGrad)" stroke="#22c55e" stroke-width="2"/>
  <rect x="900" y="350" width="240" height="35" rx="8" fill="#22c55e"/>
  <text x="1020" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">reports üìä</text>
  <text x="915" y="405" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="915" y="425" font-family="monospace" font-size="11" fill="#22d3ee">FK generated_by UUID</text>
  <text x="915" y="445" font-family="monospace" font-size="11" fill="#94a3b8">report_type VARCHAR(30)</text>
  <text x="915" y="465" font-family="monospace" font-size="11" fill="#94a3b8">format VARCHAR(10)</text>
  <text x="915" y="485" font-family="monospace" font-size="11" fill="#94a3b8">file_path TEXT</text>
  <text x="915" y="505" font-family="monospace" font-size="11" fill="#94a3b8">parameters JSONB</text>

  <!-- DOCUMENTS Table -->
  <rect x="900" y="560" width="240" height="160" rx="8" fill="url(#tableGrad)" stroke="#64748b" stroke-width="2"/>
  <rect x="900" y="560" width="240" height="35" rx="8" fill="#64748b"/>
  <text x="1020" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#fff">documents üìÅ</text>
  <text x="915" y="615" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="915" y="635" font-family="monospace" font-size="11" fill="#22d3ee">FK uploaded_by UUID</text>
  <text x="915" y="655" font-family="monospace" font-size="11" fill="#94a3b8">file_name VARCHAR(255)</text>
  <text x="915" y="675" font-family="monospace" font-size="11" fill="#94a3b8">file_type VARCHAR(20)</text>
  <text x="915" y="695" font-family="monospace" font-size="11" fill="#94a3b8">storage_path TEXT</text>

  <!-- PAYMENTS Table -->
  <rect x="50" y="700" width="240" height="160" rx="8" fill="url(#tableGrad)" stroke="#eab308" stroke-width="2"/>
  <rect x="50" y="700" width="240" height="35" rx="8" fill="#eab308"/>
  <text x="170" y="725" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#000">payments üí≥</text>
  <text x="65" y="755" font-family="monospace" font-size="11" fill="#fbbf24">PK id UUID</text>
  <text x="65" y="775" font-family="monospace" font-size="11" fill="#22d3ee">FK user_id UUID</text>
  <text x="65" y="795" font-family="monospace" font-size="11" fill="#94a3b8">amount DECIMAL(10,2)</text>
  <text x="65" y="815" font-family="monospace" font-size="11" fill="#94a3b8">payment_method VARCHAR(30)</text>
  <text x="65" y="835" font-family="monospace" font-size="11" fill="#94a3b8">transaction_id VARCHAR(100)</text>

  <!-- Relationships -->
  <!-- users -> roles -->
  <line x1="160" y1="260" x2="160" y2="290" stroke="#22d3ee" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="160" cy="260" r="4" fill="#22d3ee"/>
  <circle cx="160" cy="290" r="4" fill="#22d3ee"/>
  
  <!-- parcels -> villages -->
  <line x1="590" y1="215" x2="540" y2="180" stroke="#22d3ee" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="590" cy="215" r="4" fill="#22d3ee"/>
  <circle cx="540" cy="180" r="4" fill="#22d3ee"/>
  
  <!-- text_records -> villages -->
  <line x1="900" y1="235" x2="540" y2="180" stroke="#22d3ee" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="900" cy="235" r="4" fill="#22d3ee"/>
  
  <!-- matches -> parcels -->
  <line x1="720" y1="350" x2="720" y2="300" stroke="#22d3ee" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="720" cy="350" r="4" fill="#22d3ee"/>
  <circle cx="720" cy="300" r="4" fill="#22d3ee"/>
  
  <!-- matches -> text_records -->
  <line x1="850" y1="445" x2="900" y2="280" stroke="#22d3ee" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="850" cy="445" r="4" fill="#22d3ee"/>
  <circle cx="900" cy="280" r="4" fill="#22d3ee"/>

  <!-- Legend -->
  <rect x="50" y="900" width="500" height="80" rx="8" fill="#1e293b" stroke="#334155"/>
  <text x="70" y="925" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#94a3b8">Legend:</text>
  <text x="70" y="950" font-family="monospace" font-size="11" fill="#fbbf24">PK = Primary Key</text>
  <text x="200" y="950" font-family="monospace" font-size="11" fill="#22d3ee">FK = Foreign Key</text>
  <text x="330" y="950" font-family="monospace" font-size="11" fill="#a78bfa">GEOMETRY = PostGIS Spatial</text>
  <text x="70" y="970" font-family="monospace" font-size="11" fill="#94a3b8">--- = Relationship</text>
</svg>
