<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 800">
  <rect width="1100" height="800" fill="#0f172a"/>
  <text x="550" y="35" text-anchor="middle" font-family="Arial" font-size="20" font-weight="bold" fill="#667eea">UML Class Diagram - Core Domain</text>

  <!-- User Class -->
  <rect x="50" y="70" width="200" height="130" rx="5" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
  <rect x="50" y="70" width="200" height="25" rx="5" fill="#3b82f6"/>
  <text x="150" y="88" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#fff">User</text>
  <line x1="50" y1="115" x2="250" y2="115" stroke="#3b82f6"/>
  <text x="60" y="108" font-family="monospace" font-size="9" fill="#94a3b8">- id: UUID</text>
  <text x="60" y="130" font-family="monospace" font-size="9" fill="#94a3b8">- email: str</text>
  <text x="60" y="143" font-family="monospace" font-size="9" fill="#94a3b8">- role: Role</text>
  <line x1="50" y1="155" x2="250" y2="155" stroke="#3b82f6"/>
  <text x="60" y="170" font-family="monospace" font-size="9" fill="#94a3b8">+ login()</text>
  <text x="60" y="183" font-family="monospace" font-size="9" fill="#94a3b8">+ verify_aadhaar()</text>

  <!-- Role Class -->
  <rect x="50" y="240" width="200" height="100" rx="5" fill="#1e293b" stroke="#8b5cf6" stroke-width="2"/>
  <rect x="50" y="240" width="200" height="25" rx="5" fill="#8b5cf6"/>
  <text x="150" y="258" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#fff">Role</text>
  <line x1="50" y1="285" x2="250" y2="285" stroke="#8b5cf6"/>
  <text x="60" y="278" font-family="monospace" font-size="9" fill="#94a3b8">- name: str</text>
  <text x="60" y="300" font-family="monospace" font-size="9" fill="#94a3b8">- permissions: List</text>
  <line x1="50" y1="310" x2="250" y2="310" stroke="#8b5cf6"/>
  <text x="60" y="328" font-family="monospace" font-size="9" fill="#94a3b8">+ has_permission()</text>

  <!-- Village Class -->
  <rect x="300" y="70" width="200" height="110" rx="5" fill="#1e293b" stroke="#10b981" stroke-width="2"/>
  <rect x="300" y="70" width="200" height="25" rx="5" fill="#10b981"/>
  <text x="400" y="88" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#fff">Village</text>
  <line x1="300" y1="115" x2="500" y2="115" stroke="#10b981"/>
  <text x="310" y="108" font-family="monospace" font-size="9" fill="#94a3b8">- village_id: str</text>
  <text x="310" y="130" font-family="monospace" font-size="9" fill="#94a3b8">- name: str</text>
  <text x="310" y="143" font-family="monospace" font-size="9" fill="#94a3b8">- district: str</text>
  <line x1="300" y1="155" x2="500" y2="155" stroke="#10b981"/>
  <text x="310" y="170" font-family="monospace" font-size="9" fill="#94a3b8">+ get_parcels()</text>

  <!-- Parcel Class -->
  <rect x="550" y="70" width="220" height="150" rx="5" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
  <rect x="550" y="70" width="220" height="25" rx="5" fill="#f59e0b"/>
  <text x="660" y="88" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#000">Parcel</text>
  <line x1="550" y1="115" x2="770" y2="115" stroke="#f59e0b"/>
  <text x="560" y="108" font-family="monospace" font-size="9" fill="#94a3b8">- plot_id: str</text>
  <text x="560" y="130" font-family="monospace" font-size="9" fill="#94a3b8">- owner_name: str</text>
  <text x="560" y="143" font-family="monospace" font-size="9" fill="#94a3b8">- area_sqm: Decimal</text>
  <text x="560" y="156" font-family="monospace" font-size="9" fill="#a78bfa">- geometry: Polygon</text>
  <line x1="550" y1="170" x2="770" y2="170" stroke="#f59e0b"/>
  <text x="560" y="188" font-family="monospace" font-size="9" fill="#94a3b8">+ calculate_area()</text>
  <text x="560" y="201" font-family="monospace" font-size="9" fill="#94a3b8">+ to_geojson()</text>

  <!-- TextRecord Class -->
  <rect x="820" y="70" width="220" height="130" rx="5" fill="#1e293b" stroke="#ec4899" stroke-width="2"/>
  <rect x="820" y="70" width="220" height="25" rx="5" fill="#ec4899"/>
  <text x="930" y="88" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#fff">TextRecord</text>
  <line x1="820" y1="115" x2="1040" y2="115" stroke="#ec4899"/>
  <text x="830" y="108" font-family="monospace" font-size="9" fill="#94a3b8">- record_id: str</text>
  <text x="830" y="130" font-family="monospace" font-size="9" fill="#94a3b8">- plot_id: str</text>
  <text x="830" y="143" font-family="monospace" font-size="9" fill="#94a3b8">- owner_name: str</text>
  <text x="830" y="156" font-family="monospace" font-size="9" fill="#94a3b8">- area_declared: Decimal</text>
  <line x1="820" y1="170" x2="1040" y2="170" stroke="#ec4899"/>
  <text x="830" y="188" font-family="monospace" font-size="9" fill="#94a3b8">+ validate()</text>

  <!-- Match Class -->
  <rect x="550" y="280" width="220" height="160" rx="5" fill="#1e293b" stroke="#06b6d4" stroke-width="2"/>
  <rect x="550" y="280" width="220" height="25" rx="5" fill="#06b6d4"/>
  <text x="660" y="298" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#fff">Match</text>
  <line x1="550" y1="325" x2="770" y2="325" stroke="#06b6d4"/>
  <text x="560" y="318" font-family="monospace" font-size="9" fill="#94a3b8">- parcel: Parcel</text>
  <text x="560" y="340" font-family="monospace" font-size="9" fill="#94a3b8">- text_record: TextRecord</text>
  <text x="560" y="355" font-family="monospace" font-size="9" fill="#94a3b8">- match_score: float</text>
  <text x="560" y="370" font-family="monospace" font-size="9" fill="#94a3b8">- status: MatchStatus</text>
  <text x="560" y="385" font-family="monospace" font-size="9" fill="#94a3b8">- confidence: str</text>
  <line x1="550" y1="400" x2="770" y2="400" stroke="#06b6d4"/>
  <text x="560" y="418" font-family="monospace" font-size="9" fill="#94a3b8">+ verify(user: User)</text>
  <text x="560" y="431" font-family="monospace" font-size="9" fill="#94a3b8">+ reject(reason: str)</text>

  <!-- ReconciliationEngine Class -->
  <rect x="820" y="280" width="220" height="140" rx="5" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
  <rect x="820" y="280" width="220" height="25" rx="5" fill="#22c55e"/>
  <text x="930" y="298" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#000">ReconciliationEngine</text>
  <line x1="820" y1="325" x2="1040" y2="325" stroke="#22c55e"/>
  <text x="830" y="318" font-family="monospace" font-size="9" fill="#94a3b8">- algorithms: List</text>
  <text x="830" y="340" font-family="monospace" font-size="9" fill="#94a3b8">- area_tolerance: float</text>
  <line x1="820" y1="355" x2="1040" y2="355" stroke="#22c55e"/>
  <text x="830" y="373" font-family="monospace" font-size="9" fill="#94a3b8">+ run_matching()</text>
  <text x="830" y="388" font-family="monospace" font-size="9" fill="#94a3b8">+ levenshtein(a,b)</text>
  <text x="830" y="403" font-family="monospace" font-size="9" fill="#94a3b8">+ jaro_winkler(a,b)</text>

  <!-- Report Class -->
  <rect x="300" y="500" width="200" height="130" rx="5" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
  <rect x="300" y="500" width="200" height="25" rx="5" fill="#22c55e"/>
  <text x="400" y="518" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#000">Report</text>
  <line x1="300" y1="545" x2="500" y2="545" stroke="#22c55e"/>
  <text x="310" y="538" font-family="monospace" font-size="9" fill="#94a3b8">- report_type: str</text>
  <text x="310" y="560" font-family="monospace" font-size="9" fill="#94a3b8">- format: str</text>
  <text x="310" y="573" font-family="monospace" font-size="9" fill="#94a3b8">- generated_by: User</text>
  <line x1="300" y1="590" x2="500" y2="590" stroke="#22c55e"/>
  <text x="310" y="608" font-family="monospace" font-size="9" fill="#94a3b8">+ generate_pdf()</text>
  <text x="310" y="621" font-family="monospace" font-size="9" fill="#94a3b8">+ generate_excel()</text>

  <!-- AuditLog Class -->
  <rect x="50" y="400" width="200" height="120" rx="5" fill="#1e293b" stroke="#ef4444" stroke-width="2"/>
  <rect x="50" y="400" width="200" height="25" rx="5" fill="#ef4444"/>
  <text x="150" y="418" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#fff">AuditLog</text>
  <line x1="50" y1="445" x2="250" y2="445" stroke="#ef4444"/>
  <text x="60" y="438" font-family="monospace" font-size="9" fill="#94a3b8">- action: str</text>
  <text x="60" y="460" font-family="monospace" font-size="9" fill="#94a3b8">- entity_type: str</text>
  <text x="60" y="475" font-family="monospace" font-size="9" fill="#94a3b8">- changes: dict</text>
  <line x1="50" y1="490" x2="250" y2="490" stroke="#ef4444"/>
  <text x="60" y="508" font-family="monospace" font-size="9" fill="#94a3b8">+ create()</text>

  <!-- Relationships -->
  <!-- User -> Role -->
  <line x1="150" y1="200" x2="150" y2="240" stroke="#60a5fa" stroke-width="2"/>
  <polygon points="147,240 150,250 153,240" fill="#60a5fa"/>

  <!-- Village -> Parcel -->
  <line x1="500" y1="125" x2="550" y2="125" stroke="#60a5fa" stroke-width="2"/>
  <text x="520" y="115" font-family="Arial" font-size="9" fill="#94a3b8">1..*</text>

  <!-- Parcel -> Match -->
  <line x1="660" y1="220" x2="660" y2="280" stroke="#60a5fa" stroke-width="2"/>

  <!-- TextRecord -> Match -->
  <line x1="820" y1="180" x2="770" y2="320" stroke="#60a5fa" stroke-width="2"/>

  <!-- Match -> Engine -->
  <line x1="770" y1="360" x2="820" y2="360" stroke="#60a5fa" stroke-width="2" stroke-dasharray="5,3"/>

  <!-- Legend -->
  <rect x="50" y="700" width="400" height="60" rx="5" fill="#1e293b" stroke="#334155"/>
  <text x="65" y="725" font-family="Arial" font-size="11" font-weight="bold" fill="#94a3b8">Legend:</text>
  <line x1="120" y1="720" x2="170" y2="720" stroke="#60a5fa" stroke-width="2"/>
  <text x="180" y="725" font-family="Arial" font-size="10" fill="#94a3b8">Association</text>
  <line x1="260" y1="720" x2="310" y2="720" stroke="#60a5fa" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="320" y="725" font-family="Arial" font-size="10" fill="#94a3b8">Dependency</text>
  <text x="65" y="748" font-family="monospace" font-size="9" fill="#a78bfa">Purple = Spatial/PostGIS type</text>
</svg>
